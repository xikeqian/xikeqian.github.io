(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-searchPersonInfo-searchPersonInfo"],{"29c6":function(e,t,a){"use strict";a.r(t);var i=a("90bf"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6bfa":function(e,t,a){"use strict";a.r(t);var i=a("eac4"),n=a("29c6");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("a201");var r,l=a("f0c5"),c=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"26aec7da",null,!1,i["a"],r);t["default"]=c.exports},"90bf":function(e,t,a){"use strict";var i=a("4ea4");a("a9e3"),a("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a("325c");var n=i(a("e398")),o=i(a("1e79")),r=i(a("1c89")),l={components:{videoPlay:n.default,albumDetail:o.default,uniPopup:r.default},filters:{},data:function(){return{allPhoto:[],photoCount:0,perInfo:{},galleryName:"",photoInfo:{},params:{},galleryId:"",isGetPersonInfo:!1,tags:[],personName:"",jurisdiction:!0}},onLoad:function(e){this.galleryName=e.name,this.photoInfo.showType="photo",this.photoInfo.url="cm/queryGalleryCharacterItemPg",this.galleryId=e.galleryId,this.params={gallery_character_id:e.gallery_character_id},this.jurisdiction=Boolean(Number(e.jurisdiction))},onShow:function(){this.getPersonInfo()},methods:{cancelPopup:function(){this.$refs.namePopup.close()},confPopup:function(){var e=this;if(!this.personName.trim())return uni.showToast({title:"请输入名称",icon:"none"});this.$http.post("cm/updateGalleryCharacterInfo",{gallery_character_id:this.params.gallery_character_id,character_info:{name:this.personName,cover_photo_key:this.perInfo.cover_photo_key}}).then((function(t){e.perInfo.name=e.personName,uni.showToast({title:"修改名称成功！",icon:"none"}),e.$refs.namePopup.close()})).catch((function(e){return console.error(e),uni.showToast({title:e.data.errMsg,icon:"none"})}))},queryDone:function(e){this.photoCount=e.photo_number},getPersonInfo:function(){var e=this;this.$http.get("cm/getGalleryCharacterInfo",{gallery_character_id:this.params.gallery_character_id}).then((function(t){e.perInfo=t.result,e.tags=t.result.tags,e.$nextTick((function(){e.isGetPersonInfo&&(e.$refs.albumDetail&&e.$refs.albumDetail.cancelSelectedAll(),e.$refs.albumDetail.getUserLabels()),e.isGetPersonInfo=!0}))})).catch((function(e){return uni.showToast({title:e.data.errMsg,icon:"none"})}))},goBack:function(){uni.navigateBack()},toggleSelect:function(){this.$refs.albumDetail.toggleSelect()},setting:function(){var e=this;uni.showActionSheet({itemList:["设置人物名称"],success:function(t){0===t.tapIndex&&(e.personName=e.perInfo.name,e.$refs.namePopup.open())}})}}};t.default=l},a201:function(e,t,a){"use strict";var i=a("a374"),n=a.n(i);n.a},a261:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAACEElEQVRYR+2YPU/cQBBAZzZCdwXpaGgp0ly3u/cbUlJARzqklEmUMggCiUKJgBIJaEIHBWV+w+1u5yZF2kuRDqTzJYoHbWRbsQ9/YXvvCru79Wj2+a3PMxqEBb9wwflgBnAwGCz3er11RFwjomdNPQBjbDyZTC49z/tdJWcCcDgcDoMguAWA1SpJKsTuaa0/Z8QzIcQRAGwj4qlSasfGxYDWXL/f/94inN0vC5BJKc+IaDuEv9daP08Acs63EPFrGPALEc+CIPhTwU5uKCL+9H3/4pEjTsPZPCda63cJQCHELgB8+reIeBgpbgow61hT5uze50qp1wAQpA3uI+JHu0hEB8aY/XnDzRNw5ljT5iI58Z+Ec+7KYGm4eRisBOcasDKcS8AnwbkCfDKcC8BacG0D1oZrE7ARuLYAG4NrA7AWHOf8pYUyxnxrpZIIIY4B4G2cPFX482q7lHKDiK7DZmVTKXXTuEEhxB0ALIebJLqSosYjq9Q2WoullF+I6A0AnGut30ctUxGcve8EsAxIVkwHWMded8R17XUGO4N570ATdsrk6L6DZSzlxRQanNPoI2YO6/iHcCEeMv3fLLQ6PMqzxxhbIiI7j1mxcUT0yhhzlWi3HI3fyrwJY9/3X3ied58AtD8cDDCLAMeMsfXRaDSa6aijhbZGwHlkiPiXiH5Mp9PbyFwmYNEjur6/8FP+B2EZUEceEokBAAAAAElFTkSuQmCC"},a374:function(e,t,a){var i=a("d642");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("045e1542",i,!0,{sourceMap:!1,shadowMode:!1})},d642:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".flex-1[data-v-26aec7da]{color:#3786f8;font-size:16px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-1 uni-image[data-v-26aec7da]{height:%?40?%;width:%?40?%;margin-left:%?16?%}.header[data-v-26aec7da]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#000;color:#fff;width:%?750?%;height:%?88?%;padding-top:%?30?%;padding-bottom:%?10?%}.vertical[data-v-26aec7da]{line-height:%?40?%}.header uni-image[data-v-26aec7da]{width:%?32?%;height:%?32?%;margin:0 %?20?%}.perInfo[data-v-26aec7da]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?32?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:%?2?% solid #eee}.filterArea[data-v-26aec7da]{padding:%?30?% %?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.userAvatar[data-v-26aec7da]{text-align:center;margin-right:%?24?%;width:%?160?%}.filter[data-v-26aec7da]{text-align:end}.photoArea[data-v-26aec7da]{width:%?750?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:star;-webkit-justify-content:star;justify-content:star;padding:%?3?%}.photo[data-v-26aec7da]{margin:%?6?% %?6?% %?6?% %?0?%;width:%?180?%;height:%?180?%}.filter uni-image[data-v-26aec7da]{width:%?36?%;height:%?36?%;vertical-align:top}.photo uni-image[data-v-26aec7da]{width:%?180?%;height:%?180?%}.userAvatar uni-image[data-v-26aec7da]{width:%?160?%;height:%?160?%;border-radius:50%}.userInfo[data-v-26aec7da]{padding:%?30?% %?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.shareBtn[data-v-26aec7da]{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right}.shareBtn .share-btn[data-v-26aec7da]{margin:auto;position:absolute;left:0;top:0;right:0;bottom:0;opacity:0}.btn[data-v-26aec7da]{width:%?120?%;height:%?56?%;line-height:%?56?%;background-color:#ff6614;text-align:center;color:#fff;border-radius:%?8?%;font-size:%?28?%}.filterArea .name[data-v-26aec7da]{color:#ff4e28}.header .head-back[data-v-26aec7da]{width:%?180?%}.header .vertical[data-v-26aec7da]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;word-wrap:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header .head-foot[data-v-26aec7da]{width:%?180?%;text-align:right}.popup-body-person[data-v-26aec7da]{padding:%?60?% %?40?%}.uni-flex-name[data-v-26aec7da]{width:%?200?%;line-height:%?40?%}.popup-body-person uni-input[data-v-26aec7da]{font-size:%?28?%}",""]),e.exports=t},eac4:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={"uni-popup":a("1c89").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"perInfo"},[i("v-uni-view",{staticClass:"userAvatar"},[i("v-uni-image",{attrs:{src:e.perInfo.cover_photo_url}})],1),i("v-uni-view",{staticClass:"userInfo"},[i("v-uni-view",{staticClass:"flex-1"},[i("v-uni-text",[e._v(e._s(e.perInfo.name))]),i("v-uni-image",{attrs:{src:a("a261"),mode:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setting.apply(void 0,arguments)}}})],1),i("v-uni-text",{staticStyle:{color:"#999999","font-size":"28rpx"}},[e._v(e._s(e.photoCount)+"张照片")])],1),i("v-uni-view",{staticClass:"shareBtn"},[i("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.share.apply(void 0,arguments)}}},[e._v("分享")])],1)],1),e.isGetPersonInfo?i("album-detail",{ref:"albumDetail",attrs:{"gallery-id":e.galleryId,params:e.params,"photo-info":e.photoInfo,tags:e.tags,top:406,jurisdiction:e.jurisdiction},on:{queryDone:function(t){arguments[0]=t=e.$handleEvent(t),e.queryDone.apply(void 0,arguments)}}}):e._e(),i("uni-popup",{ref:"namePopup"},[i("v-uni-view",{staticClass:"m-popup"},[i("v-uni-view",{staticClass:"popup-head"},[e._v("设置人物名称")]),i("v-uni-view",{staticClass:"popup-body popup-body-person"},[i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-name"},[e._v("人物名称：")]),i("v-uni-view",{staticClass:"uni-flex-item"},[i("v-uni-input",{attrs:{type:"text",name:"",id:"",placeholder:"请输入人物名称"},model:{value:e.personName,callback:function(t){e.personName=t},expression:"personName"}})],1)],1)],1),i("v-uni-view",{staticClass:"popup-foot"},[i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelPopup.apply(void 0,arguments)}}},[e._v("取消")]),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confPopup.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1)},o=[]}}]);